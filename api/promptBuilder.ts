// src/lib/promptBuilder.ts

/**
 * AIに対して、指定された文字で始まる名詞のリストを要求するプロンプトを生成します。
 * このバージョンでは、生成する単語数に上限を設けて、AIの応答タイムアウトを防ぎます。
 * @param nextKana - AIに生成させたい単語の開始文字（ひらがなorカタカナ）。
 * @returns AIへの指示テキスト。
 */
export function buildPrompt(nextKana: string): string {
  // ★★★★★ ここから下が、タイムアウト対策を施した新しい命令です ★★★★★

  return `あなたは、日本語の単語を生成するAIです。

# あなたへの指示
「${nextKana}」という文字で始まる、一般的に知られている「名詞」を、【最大20個まで】、思いつくだけ挙げてください。

# 回答のルール
- 回答は、単語をカンマ（,）で区切った、単一の行のテキストにしてください。
- 例: りんご,りす,りっぷくりーむ,りゅう
- 番号、説明、挨拶、その他の記号（「」など）は、絶対に含めないでください。
- 単語は必ず、ひらがな、またはカタカナで回答してください。
`;
}